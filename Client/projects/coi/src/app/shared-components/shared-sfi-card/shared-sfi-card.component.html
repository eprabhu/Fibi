<div class="border bg-white rounded-3 p-2 mt-2">
  <div class="m-0 mb-2 row">
    <span class="align-items-center d-flex">
      <span class="shadow-sm align-items-center d-flex"tabindex="0" [attr.aria-label] = "SFIObject?.isActive === 'ACTIVE' ?
      'Active': SFIObject?.isActive === 'DRAFT' ? 'Draft' : 'Inactive'"
        [ngClass]="SFIObject.isActive === 'ACTIVE'? 'active-ribbon' : SFIObject?.isActive === 'DRAFT' ? 'draft-ribbon'  : 'inactive-ribbon'">{{SFIObject?.isActive === 'ACTIVE' ?
        'Active' : SFIObject?.isActive === 'DRAFT' ? 'Draft' : 'Inactive'}}</span>
      <p class="entity-title mt-3">
        <strong class="fs-16"tabindex="0" [attr.aria-label] = "'entity name' + SFIObject?.entityName">{{SFIObject?.entityName }}</strong>
      </p>
      <div class="info-text fs-14 ms-auto italian px-3 py-0" data-bs-toggle="tooltip" [title]="getHelpText()" data-bs-placement="top" *ngIf="checkForEntityWarning()">
        <i class="fa fa-exclamation-triangle mr-2" aria-hidden="true"></i>
        {{getMessage()}}
      </div>
      <div tabindex="0" class="info-text fs-14 ms-auto italian px-3 py-0" *ngIf="referredFrom == 'SFI_SUMMARY' && this.reqObject.versionStatus == 'ARCHIVE'">
        <i class="fa fa-exclamation-triangle mr-2" aria-hidden="true" aria-label = "SFI modified"></i>
        SFI modified
      </div>
    </span>
    </div>
  <div class="m-0 mb-2 row">
    <div class="text-secondary fs-14" [ngClass]="referredFrom === 'SFI_SUMMARY' ? 'col-8' : 'col-7'">
      <span class="fw-bold me-3"tabindex="0" aria-label = "Relationship">Relationship :</span>
      <app-no-data-label [valueToShow]="SFIObject?.validPersonEntityRelTypes">
        <span *ngIf="SFIObject?.validPersonEntityRelTypes?.length"tabindex="0"
          class="relationship-pill border px-3 py-1 rounded-4 me-2 pill-color">
          <span class="fw-medium" aria-label = "Financial :">Financial : </span>
          <ng-container>
            <em *ngFor="let relationship of SFIObject?.validPersonEntityRelTypes;let last = last">
              <span class="r-title" *ngIf="!last"[attr.aria-label]="relationship?.personEntityRelType?.description">{{relationship?.personEntityRelType?.description +','}}
              </span>
              <span class="r-title" *ngIf="last"[attr.aria-label]="relationship?.personEntityRelType?.description">{{relationship?.personEntityRelType?.description}}
              </span>            
            </em>
          </ng-container>
        </span>
      </app-no-data-label>
    </div>
    <div tabindex="0"  class="text-secondary" [ngClass]="referredFrom === 'SFI_SUMMARY' ? 'col-4' : 'col-5'">
      <span  class="fw-bold me-2 fs-14">Entity Type :</span>
      <app-no-data-label [valueToShow]="SFIObject?.entityType">
        <span class="fs-14" [attr.aria-label]="SFIObject?.entityType"> {{SFIObject?.entityType}}</span>
      </app-no-data-label>
    </div>
  </div>
  <div class="fs-14 mx-0 row" [class.pb-2]="referredFrom === 'SFI_SUMMARY'"
    [class.mt-3]="referredFrom === 'SFI_SUMMARY'">
    <div class="align-items-center col-4 d-flex justify-content-between text-secondary">
      <div tabindex="0">
        <span class="fw-bold me-2" [attr.aria-label] ="'Start Date Of Involvement' + SFIObject?.involvementStartDate
        | dateFormatter"> Start Date Of Involvement : </span>
        <app-no-data-label [valueToShow]="SFIObject?.involvementStartDate">
          <span> {{SFIObject?.involvementStartDate
            |dateFormatter }} </span>
        </app-no-data-label>
      </div>
    </div>
    <div class="align-items-center d-flex justify-content-between text-secondary" [ngClass]="referredFrom === 'SFI_SUMMARY' ? 'col-4' : 'col-3'">
      <div tabindex="0">
        <span class="fw-bold me-2" [attr.aria-label] ="'End Date Of Involvement' + SFIObject?.involvementEndDate
        | dateFormatter"> End Date Of Involvement :</span>
        <app-no-data-label [valueToShow]="SFIObject?.involvementEndDate">
          <span>
            {{ SFIObject?.involvementEndDate
            |dateFormatter }}
          </span>
        </app-no-data-label>
      </div>
    </div>
    <div  class="align-items-center d-flex col fs-14 text-secondary"tabindex="0">
        <span for="Country" class="fw-bold me-2 text-nowrap"> Country : </span>
        <span class="col">
            <app-no-data-label [valueToShow]="SFIObject?.countryName" id="Country">
                <span [attr.aria-label] = " SFIObject?.countryName " class="grey-text text-slice" [title]="SFIObject?.countryName">{{SFIObject?.countryName}}</span>
              </app-no-data-label>
        </span>
    </div>
    <div class="align-items-center col-1 d-flex text-secondary justify-content-end"
      *ngIf="referredFrom === 'SFI_SUMMARY'">
      <span tabindex="0" class="align-items-center btn btn-primary-icon d-flex px-2 py-1 me-2" id="view-sfi"aria-label=" view sfi details"
        (click)="openSfiDetails(SFIObject?.entityId, 'view')">
        <mat-icon>remove_red_eye</mat-icon>
      </span>
      <span tabindex="0" (click)="openReviewComment(SFIObject);" class="btn btn-primary-icon btn btn-sm d-flex" id="add-activity" title="Comments" type="button" role="button" aria-label="sfi comments ">
        <mat-icon>rate_review</mat-icon>
      </span>
    </div>
    <div class="align-items-center col mb-2 d-flex text-secondary justify-content-end" *ngIf="referredFrom !== 'SFI_SUMMARY'">
        <button (click)="openSfiDetails(SFIObject?.entityId, 'view')" *ngIf="SFIObject?.isActive !== 'DRAFT'"
          class="align-items-center btn btn-outline-secondary d-flex fs-14 mr-15">
          <mat-icon class="me-1">visibility</mat-icon>
          View
        </button>
        <button *ngIf="SFIObject?.isActive !== 'INACTIVE'" (click)="modifySfiDetails(SFIObject?.entityId, 'edit')"
          class="align-items-center btn btn-outline-secondary d-flex fs-14 mr-15">
          <mat-icon class="me-1">edit</mat-icon>
          Modify
        </button>
        <button (click)="deleteConfirmation(SFIObject.personEntityId)" *ngIf="SFIObject?.isActive === 'DRAFT'"
          class="align-items-center btn btn-outline-secondary d-flex fs-14">
          <mat-icon class="me-1">delete</mat-icon>
          Delete 
        </button>
        <button (click)="activateDeactivate(SFIObject)" *ngIf="SFIObject?.isActive === 'INACTIVE'"
          class="align-items-center btn btn-outline-secondary btn-lg d-flex fs-14">
          <i class="fa fa-bolt fs-18 fw-700 mr-2" aria-hidden="true"></i>
          Activate
        </button>
          <button (click)="activateDeactivate(SFIObject)" *ngIf="SFIObject?.isActive === 'ACTIVE'"
          class="align-items-center btn btn-outline-secondary d-flex fs-14">
          <mat-icon class="me-1">schedule</mat-icon>
          Inactivate
        </button>
    </div>
  </div>
</div>
