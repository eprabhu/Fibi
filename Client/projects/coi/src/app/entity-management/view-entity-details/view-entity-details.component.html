<div *ngIf="entityDetails" class="card mt-4 ml-15 mr-15 shadow-sm rounded-3 border" >
  <div class="card-header">
    <div class="row d-flex">
      <div class="col-12 d-flex">
        <div class="col-8 d-flex">
          <span class="entity-status shadow-sm align-items-center d-flex ps-2 mt-2"
            [ngClass]="entityDetails.isActive ?'':'inactive'">
            <span class="px-2">{{!entityDetails?.isActive?'Inactive':'Active'}}</span></span>
          <h1 class="m-1 fw-bold fs-18">{{entityDetails?.entityName}}</h1>
        </div>
        <div class="col-4 justify-content-end d-flex">
          <div class="action-bar d-flex">
            <button tabindex="0" class="btn m-1 new-line-property text-secondary fs-14-nav action-btn"
              (click)="entityManagementService.isShowEntityNavBar=true">
              <mat-icon class="justify-content-center align-items-center fs-4 icon-size" id="btn-modify"
                title="Modify Entity">
                mode
              </mat-icon>
              Modify</button>
            <!-- <button tabindex="0" class="btn m-1 action-btn new-line-property text-secondary fs-14-nav"
              id="btn-inactivate" title="Entity Inactivate">
              <mat-icon class="justify-content-center align-items-center fs-4 icon-size">schedule</mat-icon>
              Inactivate
            </button>
            <button tabindex="0" class="btn m-1 action-btn new-line-property text-secondary fs-14-nav" id="btn-history"
              title="Entity History">
              <mat-icon class="justify-content-center align-items-center fs-4 icon-size">history </mat-icon>
              History</button> -->
          </div>
          <div class="ml-15" tabindex="0">
            <button type="button" class="btn back-ward" (click)="backToList()" title="Back">
              <i class="fa fa-reply justify-content-center align-items-center fs-14 mt-2"></i>
              <!-- <label class="fw-medium fs-13 mt-1">Back</label> -->
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="entityManagementService.isShowEntityNavBar" class="task-nav-div" id="task-navigation-bar">
    <app-add-new-entity-details [coiEntityManageId]="entityManageId" [isEditEntity]="true"
      (updatedDataStore)="updatedEntityDetails($event)"></app-add-new-entity-details>
  </div>
  <div class="card-body">
    <div class="row  pb-4">
      <div class="col-12 d-flex">
        <div class="col-2">
          <div class="row">
            <label class="fw-500 fs-14">Entity Type</label>
            <span class="text-color fs-14" *ngIf="entityDetails?.entityType?.description;else noData">{{entityDetails?.entityType?.description}}</span>
          </div>
        </div>
        <div class="col-2">
          <div class="row">
            <label class="fw-500 fs-14">Country</label>
            <span class="text-color fs-14" *ngIf="entityDetails?.country?.countryName;else noData">{{entityDetails?.country?.countryName}}</span>
          </div>
        </div>
        <div class="col-2">
          <div class="row">
            <label class="fw-500 fs-14">City</label>
            <span class="text-color fs-14" *ngIf="entityDetails?.city;else noData">{{entityDetails?.city}}</span>
          </div>
        </div>
        <div class="col-2">
          <div class="row">
            <label class="fw-500 fs-14">Website</label>
            <span class="text-primary fs-14 anchor-link" *ngIf="entityDetails?.webURL;else noData">
              <a class="anchor-link" (click)="redirectUrl(entityDetails?.webURL)">
                {{entityDetails?.webURL}}
              </a>
            </span>
          </div>
        </div>
        <div class="col-2">
          <div class="row">
            <label class="fw-500 fs-14">Email Address </label>
            <span class="text-color fs-14" *ngIf="entityDetails?.emailAddress;else noData">
              {{entityDetails?.emailAddress}}</span>
          </div>
        </div>
        <div class="col-2">
          <div class="row">
            <label class="fw-500 fs-14">Phone Number</label>
            <span *ngIf="entityDetails?.phone;else noData" class="text-color fs-14">
              {{entityDetails?.phone}}</span>
          </div>
        </div>
      </div>
    </div>
    <div class="row pb-4">
      <div class="col-12 d-flex mt-3">
        <div class="col-6">
          <div class="row">
            <label class="fw-500 fs-14">Address</label>
            <span *ngIf="entityDetails?.address;else noData" class="text-color fs-14 mt-1 pr-15">
              {{entityDetails?.address}}</span>
          </div>
        </div>
        <div class="col-2">
          <div class="row">
            <label class="fw-500 fs-14">Risk Level</label>
            <div class="text-color fs-14 d-flex">
              <mat-icon *ngIf="entityDetails?.entityRiskCategory?.description ==='High'"
                class="invalid material-icons-round">warning</mat-icon>
                <span *ngIf="entityDetails?.entityRiskCategory;else noData" class="mt-1">
                  {{entityDetails?.entityRiskCategory?.description}}
                </span>
                </div>
          </div>
        </div>
        <div class="col-2">
          <div class="row">
            <label class="fw-500 fs-14">Verified By</label>
            <div *ngIf="entityDetails?.approvedUser;else noData"  class="text-color fs-14 d-flex">
              <mat-icon class="mat-done">done</mat-icon>
              <span class="mt-1 px-2">
                {{entityDetails?.approvedUser}} On
                {{entityDetails?.approvedTimestamp|dateFormatterWithTimeZone:'long'}}</span>
            </div>
          </div>
        </div>
        <div class="col-2">
          <div class="row">
            <label class="fw-500 fs-14">Last Updated By</label>
            <span *ngIf="entityDetails?.updatedUserFullName;else noData" class="text-color fs-14 mt-1">{{entityDetails?.updatedUserFullName}} on {{entityDetails?.updateTimestamp
              |dateFormatterWithTimeZone:'long'}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<ng-template #noData>
  <span class="text-no-data fs-14">
    -- No Data --
  </span>
</ng-template>
