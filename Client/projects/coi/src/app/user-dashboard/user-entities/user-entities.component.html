<div class="advance-search-area border d-flex rounded-1" style="margin-top: 20px;" [@fadeInOutHeight]>
    <div class="border-end fs-14 p-3">
        <span class="fs-14 fw-medium me-2 text-secondary">Filter By Status :</span>
        <span (click)="setFilter('ALL')" [class.filter-active]="sfiDashboardRequestObject.filterType=='ALL'"
              class="shadow-sm fw-medium mr-025 border rounded-5 bg-white" title="Sort by All Status"
              role="button">All</span> 
        <span (click)="setFilter('ACTIVE')" [class.filter-active]="sfiDashboardRequestObject.filterType=='ACTIVE'" title="Sort by Active Status"
              class="shadow-sm fw-medium mr-025 border rounded-5 bg-white" role="button">Active</span>
        <span (click)="setFilter('DRAFT')" [class.filter-active]="sfiDashboardRequestObject.filterType=='DRAFT'" title="Sort by DRAFT Status"
              class="shadow-sm fw-medium mr-025 border rounded-5 bg-white" role="button">Draft</span>
        <span (click)="setFilter('INACTIVE')" [class.filter-active]="sfiDashboardRequestObject.filterType=='INACTIVE'" title="Sort by Inactive Status"
              class="shadow-sm fw-medium mr-025 border rounded-5 bg-white" role="button">Inactive</span>     
    </div>
    <div class="d-flex flex-fill position-relative" [class.pl-28]="!searchText" [class.search-area]="isSearchTextHover"
    (mouseover)="isSearchTextHover = true" (mouseout)="isSearchTextHover = false">
        <mat-icon class="fs-25px searchButton"  *ngIf="!searchText">search</mat-icon>
        <input class="advance-search-input border-0 px-4 fs-14" type="text" id="searchText"
        [class.search-area]="isSearchTextHover"
        placeholder="Search Entity Name" [(ngModel)]="searchText" (ngModelChange)="getEntities()">
        <mat-icon class="closeButton" *ngIf="searchText" (click)="clearSearchText()">close</mat-icon>        
    </div>
</div>
<ng-container *ngIf="!isLoading">
  <div *ngIf="filteredEntityArray.length > 0" [@listAnimation]="filteredEntityArray.length">
    <ng-container *ngFor="let entities of filteredEntityArray">
      <app-shared-sfi-card [reqObject] = 'entities' [referredFrom]="'SFI_EDIT_AND_DASHBOARD'" (activateDeactivateEvent)="activateDeactivateEvent($event)"(deleteEvent)="deleteSFIConfirmation($event)" (viewSlider)="viewSlider($event)" ></app-shared-sfi-card>
    </ng-container>
  </div>

  <!-- no data card -->
  <app-no-information *ngIf="!filteredEntityArray.length"></app-no-information>

 <!-- Pagination -->
 <div *ngIf="filteredEntityArray.length > 0" class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mt-3">
    <nav aria-label="pagination section" class="pagination justify-content-end">
        <app-pagination (pageChangeEvent)="actionsOnPageChangeEvent($event)"
            [totalCount]="result.count">
        </app-pagination>
    </nav>
</div>

</ng-container>

<div #viewMyEntitiesOverlay [class.overlay]="showSlider">
    <div class="slider-base" *ngIf="showSlider">
      <app-slider-close-btn (closeAction)="hideSfiNavBar()"></app-slider-close-btn>
      <div class="slider-container">
           <app-entity-details [entityId]="entityId"></app-entity-details>
        </div>
    </div>
    </div>
    
    <app-activate-inactivate-sfi-modal *ngIf="isEnableActivateInactivateSfiModal" [entityName]="entityName"
      [personEntityId]="personEntityId" [isRelationshipActive]="isRelationshipActive" (closeModal)="closeActivateInactivateSfiModal($event)">
    </app-activate-inactivate-sfi-modal>
    
    <button type="button" class="btn btn-primary btn-sm" hidden=true id="hidden-delete-button" data-bs-toggle="modal" data-bs-target="#deleteSFIConfirmationModal"></button>
    <div class="modal fade" id="deleteSFIConfirmationModal" tabindex="-1" aria-labelledby="deleteSFIConfirmationModal" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title fs-16" id="exampleModalLabel">Confirmation</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body fs-14">
            <p>Do you want to delete <strong>{{entityName}}</strong>?</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary fs-14" (click)="deleteSFI()" data-bs-dismiss="modal">Delete</button>
          </div>
        </div>
      </div>
    </div>
