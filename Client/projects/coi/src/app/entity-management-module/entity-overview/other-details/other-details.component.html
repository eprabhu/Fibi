<div class="card px-3">
    <div class="fs-16 my-1">Other Details</div>
    <div class="row mb-md-0 mb-lg-3 mt-3">
        <div class="col-md-12 col-lg-6 col-xl-4 mb-md-3 mb-lg-3 mb-xl-0" tabindex="-1" aria-label="Start Date">
            <div class="d-flex">
                <label class="d-block fw-500 fs-14 pb-1 label-text coi-label-help"
                    for="coi-other-details-start-date">Start Date
                </label>
            </div>
            <div>
                <span class="dateField w-100">
                    <input matInput [matDatepicker]="otherDetailsStartDate" id="coi-other-details-start-date"
                        placeholder="{{datePlaceHolder}}" style="width: 100% !important" (click)="otherDetailsStartDate.open()"
                        autocomplete="off" class="d-inline-block form-control"
                        [(ngModel)]="startDate" (ngModelChange)="onDateSelect('START')"
                        (keypress)="commonService._keyPress($event, 'date')" />
                    <i title="Click here to select Start date" (click)="otherDetailsStartDate.open()"
                        (keyup.enter)="otherDetailsStartDate.open()" (keyup.space)="otherDetailsStartDate.open()"
                        class="fa fa-calendar fa-large insidePicker hand-cursor" title="Click here to select date"></i>
                    <mat-datepicker #otherDetailsStartDate>
                    </mat-datepicker>
                </span>
            </div>
        </div>
        <div class="col-md-12 col-lg-6 col-xl-4 mb-md-3 mb-lg-0" tabindex="-1"
            aria-label="Incorporation Date">
            <div class="d-flex">
                <label class="d-block fw-500 fs-14 pb-1 label-text coi-label-help"
                    for="coi-other-details-incorporation-date">Incorporation Date
                </label>
            </div>
            <div>
                <span class="dateField w-100">
                    <input matInput [matDatepicker]="incorporationStartDate" id="coi-other-incorporation-start-date"
                        placeholder="{{datePlaceHolder}}" style="width: 100% !important"
                        (click)="incorporationStartDate.open()" autocomplete="off" class="d-inline-block form-control"
                        [(ngModel)]="incorporationDate" (ngModelChange)="onDateSelect('INCORPORATION')"
                        (keypress)="commonService._keyPress($event, 'date')" />
                    <i title="Click here to select incorporation date" (click)="incorporationStartDate.open()"
                        (keyup.enter)="incorporationStartDate.open()" (keyup.space)="incorporationStartDate.open()"
                        class="fa fa-calendar fa-large insidePicker hand-cursor"
                        title="Click here to select incorporation date"></i>
                    <mat-datepicker #incorporationStartDate>
                    </mat-datepicker>
                </span>
            </div>
        </div>
        <div class="col-md-12 col-lg-12 col-xl-4 mb-md-3 mb-lg-0" tabindex="-1"
            aria-label="Incorporation In">
            <label class="d-block fw-500 fs-14 pb-1 label-text coi-label-help"
                for="coi-other-details-incorporation-in">Incorporation In
            </label>
            <input type="text" class="form-control fs-13" id="coi-other-details-incorporation-in"
                [(ngModel)]="otherDetailsObj.incorporatedIn" (ngModelChange)="changeEvent('incorporatedIn')">
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-md-12 col-lg-6 col-xl-4 mb-md-3 mb-lg-3 mb-xl-0" tabindex="-1" aria-label="Currency">
            <label class="d-block fw-500 fs-14 pb-1 label-text coi-label-help" for="coi-other-details-currency">Currency
            </label>
            <app-look-up  (selectedResult)="onCurrencyLookupSelect($event)" [options]="coiCurrencyOptions"
            [isExternalArray]="true"  [externalArray]="coiCurrencyList"
            [uniqueId]="'coi-other-details-currency'" [selectedLookUpList]="selectedLookupList">
            </app-look-up>
        </div>
        <div class="col-md-12 col-lg-6 col-xl-4 mb-md-3 mb-lg-0" tabindex="-1"
            aria-label="Congressional district">
            <label class="d-block fw-500 fs-14 pb-1 label-text coi-label-help"
                for="coi-other-details-congressional-district">Congressional district
            </label>
            <input type="text" class="form-control fs-13" id="coi-other-details-congressional-district"
                [(ngModel)]="otherDetailsObj.congressionalDistrict" (ngModelChange)="changeEvent('congressionalDistrict')">
        </div>
        <div class="col-md-12 col-lg-12 col-xl-4 mb-md-3 mb-lg-0" tabindex="-1"
            aria-label="Federal Employer ID">
            <label class="d-block fw-500 fs-14 pb-1 label-text coi-label-help"
                for="coi-other-details-federal-employer-id">Federal Employer ID
            </label>
            <input type="text" class="form-control fs-13" id="coi-other-details-federal-employer-id"
                [(ngModel)]="otherDetailsObj.federalEmployerId" (ngModelChange)="changeEvent('federalEmployerId')">
        </div>
    </div>
    <div class="row mb-md-0 mb-lg-3">
        <div class="col-md-12 col-lg-6 col-xl-4 mb-md-3 mb-lg-3 mb-xl-0" tabindex="-1"
            aria-label="Entity Prior Name">
            <label class="fs-14 fw-500 pb-1 coi-label-help" for="coi-other-details-entity-prior-name">
                Entity Prior Name
            </label>
            <div class="input-group">
                <input type="text" class="form-control fs-13" id="coi-other-details-entity-prior-name"
                 aria-label="Enter phone number" aria-describedby="button-addon2"
                [(ngModel)]="entityPriorName">
                <button id="coi-other-details-entity-prior-name-add-btn"
                    class="btn btn-primary phone-no-btn fs-14 rounded-0 px-2 py-0" title="Click here to add entity prior name"
                    aria-label="Click here to add entity prior name" (click)="addEntityPriorName()">
                    <mat-icon aria-hidden="true" class="mt-1">add</mat-icon>
                </button>
            </div>
            <span class="fileChips word-break-all mt-2" *ngIf="priorNames?.length" data-bs-toogle>
                    <span class="align-items-center cursor-pointer d-inline-flex mt-2 px-2 py-1"
                    data-bs-toggle="modal" data-bs-target="#entityPriorNameVersionModal" >
                        <span class="me-1 fs-12">{{priorNames[0]?.priorNames}}</span>
                        <mat-icon class="fileChips-close fs-13" id="coi-prior-name-histort" aria-hidden="true"
                        title="Entity prior name history">history</mat-icon>
                    </span>
            </span>
        </div>
        <div class="col-4" tabindex="-1"
            aria-label="Entity Foreign Name">
            <label class="fs-14 fw-500 pb-1 coi-label-help" for="coi-other-details-entity-foreign-name">
                Foreign Name
            </label>
            <div class="input-group">
                <input type="text" class="form-control fs-13" id="coi-other-details-entity-alternate-name"
                 aria-label="Enter phone number" aria-describedby="button-addon2"
                [(ngModel)]="entityForeignName">
                <button id="coi-other-details-entity-alternate-name-add-btn" class="btn btn-primary phone-no-btn fs-14 rounded-0 px-2 py-0"
                    title="Click here to add entity alternate name" aria-label="Click here to add entity prior name"
                    (click)="addEntityAlternatename()">
                    <mat-icon aria-hidden="true" class="mt-1">add</mat-icon>
                </button>
            </div>
            <span class="fileChips word-break-all mt-2" *ngIf="foreignNames?.length">
                <ng-container *ngFor="let foreignName of foreignNames;let i = index;">
                    <span class="align-items-center cursor-pointer d-inline-flex mt-2 px-2 py-1 me-2">
                        <span class="me-1 fs-12">{{foreignName?.foreignName}}</span>
                        <mat-icon class="fileChips-close fs-13 cursor-pointer" id="coi-alternate-name-delete" aria-hidden="true"
                            (click)="deleteEntityForeignName(foreignName, i)"
                            title="Remove this entity alternate number">clear</mat-icon>
                    </span>
                </ng-container>
            </span>
        </div>
        <div class="col-md-12 col-lg-12 col-xl-4 mb-md-3 mb-lg-0" tabindex="-1"
            aria-label="Entity Short Name">
            <label class="d-block fw-500 fs-14 pb-1 label-text coi-label-help"
                for="coi-other-details-entity-short-name">Entity Short Name
            </label>
            <input type="text" class="form-control fs-13" id="coi-other-details-entity-short-name"
                [(ngModel)]="otherDetailsObj.shortName" (ngModelChange)="changeEvent('shortName')">
        </div>
    </div>
    <div class="row mb-md-0 mb-lg-3">
        <div class="col-6" tabindex="-1"
            aria-label="Number of employees">
            <label class="d-block fw-500 fs-14 pb-1 label-text coi-label-help"
                for="coi-other-details-number-of-employees">Number of employees
            </label>
            <input type="text" class="form-control fs-13" id="coi-other-details-number-of-employees"
                [(ngModel)]="otherDetailsObj.numberOfEmployees" (ngModelChange)="changeEvent('numberOfEmployees')">
        </div>
        <div class="col-6" tabindex="-1"
            aria-label="Entity Business Type">
            <label class="d-block fw-500 fs-14 pb-1 label-text coi-label-help"
                for="coi-other-details-entity-business-status">Entity Business Type
            </label>
            <app-look-up (selectedResult)="onBusinessTypeSelect($event)" [options]="businessStatusTypeOptions"
            [uniqueId]="'coi-other-details-entity-business-status'" [selectedLookUpList]="selectedLookupList">
            </app-look-up>
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-12" tabindex="-1" aria-label="Activity Text">
            <label class="d-block fw-500 fs-14 pb-1 label-text coi-label-help"
                for="coi-other-details-activity-type">Activity Text (Business Description)
            </label>
            <input type="text" class="form-control fs-13" id="coi-other-details-activity-type"
                [(ngModel)]="otherDetailsObj.activityText" (ngModelChange)="changeEvent('activityText')">
        </div>
    </div>
</div>

<!--Prior name version pop-up-->
<div class="modal fade mySkinDialog" data-bs-backdrop="static" id="entityPriorNameVersionModal" role="dialog">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Prior Names History</h4>
                <button type="button" class="btn-close" id="coi-matching-entitiess-modal-close-btn"
                    title="Click here to close" data-bs-dismiss="modal" aria-label="Click here to close"></button>
            </div>
            <div class="modal-body">
                <div class="table-responsive coi-table-striped">
                    <table *ngIf="priorNames.length" class="table table-bordered fs-14 fw-medium table-striped"
                        id="coi-entity-industry-category">
                        <thead>
                            <tr class="header-border table-light" id="coi-entity-industry-category-thead">
                                <th class="align-middle">
                                    Prior Name
                                </th>
                            </tr>
                        </thead>
                        <tbody class="white-bg">
                            <tr *ngFor="let priorNames of priorNames; let index2 = index"
                                class="tr-hover">
                                <td class="table-data fw-600 coi-text-light">
                                   {{priorNames?.priorNames}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline-secondary" id="coi-matching-entitiess-modal-cancel-btn"
                    data-bs-dismiss="modal" type="button" title="Click here to cancel">Cancel
                </button>
            </div>
        </div>
    </div>
</div>

<app-coi-modal [modalConfig]="modalConfig" (modalAction)="postConfirmation($event)">
    <ng-container modal-header>
        <span>Confirmation</span>
    </ng-container>
    <ng-container modal-body>
        <p>Do you want to delete <strong>{{deleteForgeinNameObj?.foreignName}}</strong>?</p>
    </ng-container>
</app-coi-modal>
