<div class="container-fluid">
  <div class="card" tabindex="-1">
    <!-- <h5 class="card-header fs-16">Additional Details</h5> -->
    <div class="m-2">
      <div class="row d-flex">
        <span class="col-4">
          <h5 class="fs-16">Additional Details</h5>
        </span>
        <span class="col-8 align-items-center d-flex justify-content-end material-icons-outlined"
          (click)="isExpanded = !isExpanded;alert()">{{isExpanded?'expand_more' :'expand_less'}}</span>
      </div>
      <hr>
    </div>
    <div *ngIf="isExpanded" class="card-body form-group">
      <div class="">
        <div class="row">
          <div class="col-12 d-flex">
            <div class="col-6 d-flex">
              <span class="col-4">
                <label class="col-6 fs-14">Start date of involvement </label><label class="mandatory">*</label>
              </span>
              <div class="col-7">
                  <span class="dateField w-100">
                    <input matInput [matDatepicker]="startDate" id="start-date-involvement" placeholder="dd/MM/yyyy"
                      style="width: 100% !important" (click)="startDate.open()"
                      autocomplete="off" class="d-inline-block form-control"
                      [(ngModel)]="sfiService.entityDetails.involvementStartDate"  
                      (keypress)="_commonService._keyPress($event, 'date')"
                      [ngClass]="(mandatoryList?.has('date')) ? 'is-invalid d-block' : ''"
                      [disabled]="isViewMode" />
                    <i (click)="startDate.open()" class="fa fa-calendar fa-large insidePicker hand-cursor"></i>
                    <mat-datepicker #startDate>
                    </mat-datepicker>
                  </span>
                  <div *ngIf="mandatoryList?.has('date')" class="invalid-feedback d-block">
                    {{mandatoryList?.get('date')}}
                </div>
                <p class="new-line-property text-secondary fs-13">Select a date</p>
              </div>
            </div>
            <div class="col-6 d-flex">
              <span class="col-4">
                <label class="col-6 fs-14">End date of involvement </label>
              </span>
              <div class="col-7">
                <span class="dateField">
                  <input matInput [matDatepicker]="endDate" id="end-date-involvement" placeholder="dd/MM/yyyy"
                    style="width: 100% !important" (click)="endDate.open()" autocomplete="off"
                    class="d-inline-block form-control" 
                    [(ngModel)]="sfiService.entityDetails.involvementEndDate"
                    (keypress)="_commonService._keyPress($event, 'date')"
                    [ngClass]="(mandatoryList?.has('date')) ? 'is-invalid d-block' : ''" [disabled]="isViewMode" />
                  <i (click)="endDate.open()" class="fa fa-calendar fa-large insidePicker hand-cursor"></i>
                  <mat-datepicker #endDate>
                  </mat-datepicker>
                </span>
                <p class="new-line-property text-secondary fs-13">Select a date</p>
              </div>
            </div>
          </div>
        </div>

        <div class="col-6 d-flex mb-3">
          <span class="col-4">
            <label class="col-5 fs-14">Sponsors Research </label><label class="mandatory">*</label>
          </span>
          <div class="col-7">
            <span class="pt-1">
              <a *ngIf="sponsorsResearch === 'Y'" class="pl-2">
                <label class="switch" (click)="sponsorsResearch = 'N'">
                  <input type="checkbox"checked>
                  <span class="slider round"><small>Yes</small></span>
                </label>
              </a>
              <a  *ngIf="sponsorsResearch === 'N'" class="pl-2">
                <label class="switch" (click)="sponsorsResearch = 'Y'">
                  <input type="checkbox">
                  <span class="slider round"><small class="deactivate-text">No</small></span>
                </label>
              </a>
            </span>
          </div>
        </div>
        <div class="col-12 d-flex">
          <span class="col-2">
            <label class="col-7 fs-14">Relationship with Entity</label><label class="mandatory">*</label>
          </span>
          <div class="col-10">
            <textarea class="form-control" placeholder="Type here" id="releationship-entity">
            </textarea>
            <p class="new-line-property text-secondary fs-13">This description is presented in the Relationship
              section to help you relate this entity to your research
              projects.
              Please enter an adequate description of the organization, and of your role with them,to aid both you, and
              a
              reviewers' understanding of the association between the entity and work.
            </p>
          </div>
        </div>
        <div class="col-12 d-flex">
          <span class="col-2">
            <label class="col-9 fs-14">Principle Business Area of Entity</label><label
              class="mandatory">*</label>
          </span>
          <div class="col-10">
            <textarea class="form-control" placeholder="Type here">
            </textarea>
            <p class="new-line-property text-secondary fs-13">Lorem ipsum dolor sit amet, consectetur adipiscing
              elit, sed do eiusmod tempor incididunt ut labore et
              dolore magna aliqua.

            </p>
          </div>
        </div>
        <div class="col-12 d-flex">
          <span class="col-2">
            <label class="col-9 fs-14">Relationship of Entity to your University responsibilities</label><label
              class="mandatory">*</label>
          </span>
          <div class="col-10 ">
            <textarea class="form-control" placeholder="Type here">
            </textarea>
            <p class="new-line-property text-secondary fs-14-nav">Lorem ipsum dolor sit amet, consectetur adipiscing
              elit, sed do eiusmod tempor incididunt ut labore et
              dolore magna aliqua.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
