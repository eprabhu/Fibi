<!-- last updated by Greeshma on 04-06-2020 -->
<div id="scroll-top" class="push4slideMenu  pageMinHeight">
    <div class="container-fluid pushFixedHeaderFooter">
        <div class="headerPush"></div>
        <section class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                <div class="sticky-top-nav mb-3 header-outline" id='stickyGrantHeader'>
                    <div class="row">
                        <div class="text-left col-12">
                            <h2 *ngIf="!result?.grantCall?.grantCallName  && !result?.grantCall?.grantCallId && !result?.grantCall?.abbrevation"
                                title=" [Untitled]" class="title-primary fs-20">
                                <span
                                    *ngIf="!commonData.grantCallTitle.title && !commonData.grantCallTitle.abbrevation">[Untitled]</span>
                                <span *ngIf="commonData.grantCallTitle.title">{{commonData.grantCallTitle.title}}</span>
                                <span
                                    *ngIf="commonData.grantCallTitle.abbrevation">({{commonData.grantCallTitle.abbrevation}})</span>
                            </h2>
                            <h2 *ngIf="result?.grantCall?.grantCallName  && result?.grantCall?.grantCallId && result?.grantCall?.abbrevation"
                                title="{{result?.grantCall?.grantCallName}}" class="title-primary fs-20 text-justify">
                                #{{result?.grantCall?.grantCallId}} :
                                {{(commonData.grantCallTitle.title.length>200)?(commonData.grantCallTitle.title |
                                slice:0:200)+'...':(commonData.grantCallTitle.title)}}
                                <span *ngIf="result?.grantCall?.abbrevation">
                                    ({{commonData.grantCallTitle.abbrevation}})
                                </span>
                            </h2>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12 col-lg">
                            <div class="float-left d-inline-block">
                                <span class="badge-title bg-transparent px-0 fs-14-nav"
                                    *ngIf="result?.grantCall?.grantCallType?.description">
                                    <i _ngcontent-c3="" class="fa fa-file text-primary mr-1" aria-hidden="true"></i>
                                    <span class="d-none d-sm-inline-block">Type of&nbsp;</span>Grant:
                                    {{result?.grantCall?.grantCallType?.description}}
                                </span>
                            </div>
                            <span
                                *ngIf="result?.grantCall?.grantCallId && !result?.grantCall?.isPublished && commonData.isViewMode"
                                class="status-badge-warning fs-14-nav float-right"
                                title="{{result?.grantCall?.grantCallStatus?.description}}">{{result?.grantCall?.grantCallStatus?.description}}
                                & Not Published</span>
                            <span
                                *ngIf="result?.grantCall?.grantCallId && (!commonData.isViewMode || (result?.grantCall?.isPublished && commonData.isViewMode))"
                                class="status-badge-info fs-14-nav float-right"
                                title="{{result?.grantCall?.grantCallStatus?.description}}">{{result?.grantCall?.grantCallStatus?.description}}
                            </span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg col-auto pr-0">
                            <div class="collapse navbar-toggleable-xs mt-5 mt-lg-0 mb-1" id="navbarResponsive">
                                <ul class="menu-responsive tabs fit-content tabs-collapsed">
                                    <li routerLinkActive="active"
                                        *ngIf="commonData.grandSectionConfig['GC1501']?.isActive">
                                        <a (click)="removeActiveClass()" [routerLink]="['/fibi/grant/overview']"
                                            queryParamsHandling='merge'>
                                            Grant Call
                                        </a>
                                    </li>
                                    <li routerLinkActive="active"
                                        *ngIf="result?.grantCall?.grantCallId && commonData.grandSectionConfig['GC1509']?.isActive">
                                        <a (click)="removeActiveClass()"
                                            [routerLink]="['/fibi/grant/other-information']"
                                            queryParamsHandling='merge'>
                                            Other Information
                                        </a>
                                    </li>
                                    <li *ngIf="result?.grantCall?.grantCallId && commonData.grandSectionConfig['GC1502']?.isActive"
                                        routerLinkActive="active">
                                        <a (click)="removeActiveClass()" [routerLink]="['/fibi/grant/attachments']"
                                            queryParamsHandling='merge'>
                                            Attachments
                                        </a>
                                    </li>
                                    <li id="ioi-tab"
                                        *ngIf="result?.grantCall?.grantCallId && commonData.grandSectionConfig['GC1503']?.isActive"
                                        routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                                        <a (click)="chooseIoiNavigation()" tabindex="0">
                                            Indication of Interest
                                        </a>
                                    </li>
                                    <li *ngIf="result?.grantCall?.grantCallId && commonData.grandSectionConfig['GC1504']?.isActive"
                                        routerLinkActive="active">
                                        <a (click)="removeActiveClass()" [routerLink]="['/fibi/grant/kpi']"
                                            queryParamsHandling='merge'>
                                            Key Performance Indicator
                                        </a>
                                    </li>
                                    <li *ngIf="result?.grantCall?.grantCallId && scoringCriteria() && commonData.grandSectionConfig['GC1507']?.isActive"
                                        routerLinkActive="active">
                                        <a (click)="removeActiveClass()" [routerLink]="['/fibi/grant/scoring-criteria']"
                                            queryParamsHandling='merge'>
                                            Scoring Criteria
                                        </a>
                                    </li>
                                    <li *ngIf="result?.grantCall?.grantCallId && evaluation() && commonData.grandSectionConfig['GC1508']?.isActive"
                                        routerLinkActive="active">
                                        <a (click)="removeActiveClass()" [routerLink]="['/fibi/grant/evaluation']"
                                            queryParamsHandling='merge'>
                                            Evaluation
                                        </a>
                                    </li>
                                    <li *ngIf="result?.grantCall?.grantCallId && isShowMainPannel && result?.grantCall?.isPublished && commonData.grandSectionConfig['GC1505']?.isActive"
                                        routerLinkActive="active">
                                        <a (click)="removeActiveClass()"
                                            [routerLink]="['/fibi/grant/submitted-proposals']"
                                            queryParamsHandling='merge'>
                                            Submitted Proposals
                                        </a>
                                    </li>
                                    <li *ngIf="result?.grantCall?.grantCallId && isModifyGrantCall && commonData.grandSectionConfig['GC1506']?.isActive"
                                        routerLinkActive="active">
                                        <a (click)="removeActiveClass()" [routerLink]="['/fibi/grant/history']"
                                            queryParamsHandling='merge'>
                                            History
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-auto col-12 my-2">
                            <button #mainHeaders id="responsiveColapse"
                                class="navbar-toggler hidden-sm-up px-0 d-inline-block d-lg-none float-left mt-1"
                                type="button" data-toggle="collapse" data-target="#navbarResponsive"
                                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                                <i class="fa fa-bars f-14 text-muted mx-colr" aria-hidden="true"
                                    title="Click for more pages"></i>
                            </button>
                            <span class="float-right">
                                <button class="btn btn-primary-sub btn-sm" *ngIf="isEditModeAndRouteHasForms()"
                                    (click)="initiateSaveInChildComponents()">Save</button>
                                <button
                                    *ngIf="result?.canCreateIOI && (commonData.$isIoiActive | async) && commonData.grandSectionConfig['GC1503']?.isActive"
                                    type="button" title="Create IOI" id="create-ioi"
                                    class="btn btn-secondary btn-sm fs-14-nav" [routerLink]="['/fibi/grant/ioi/edit']"
                                    queryParamsHandling='merge' [queryParams]="{ ioiId: null}"><span
                                        class="d-none d-sm-inline-block">Create&nbsp;</span>IOI
                                </button>
                                <button *ngIf="result?.grantCall?.grantCallId && !commonData.isViewMode && result?.grantCall?.isPublished  
                && (isDepartmentPublishGrantCall)" type="button" title="Save & Publish Grant Call"
                                    id="save-publish-grant-Call" class="btn btn-primary btn-sm fs-14-nav"
                                    (click)="checkGrantCallPublish()">Save & Publish
                                </button>
                                <button type="button" class="btn btn-primary btn-sm fs-14-nav"
                                    title="Publish Grant Call" (click)="checkGrantCallPublish()" *ngIf="result?.grantCall?.grantCallId && !result?.grantCall?.isPublished  
                && result?.grantCall?.grantCallStatus?.grantStatusCode != 5
                              && (isDepartmentPublishGrantCall)">Publish</button>
                                <button type="button" class="btn btn-primary btn-sm fs-14-nav"
                                    title="Unarchive Grant Call"
                                    (click)="modalHideAndShowObject.isShowUnarchive = true;" data-toggle="modal"
                                    data-target="#warningOrAlertModal" [disabled]="!result.grantCall.grantCallId" *ngIf="result?.grantCall?.grantCallId && isArchiveGrantCall 
                      && result?.grantCall?.grantCallStatus?.grantStatusCode == 5 &&
                              !editViewIOIToggle.isEditIOI">Unarchive</button>
                                <button *ngIf="result?.grantCall?.grantCallStatus?.grantStatusCode != 1 && result?.grantCall?.grantCallStatus?.grantStatusCode != 3
                && grantService?.ioiFetchValues?.grantCallIOI?.grantCallIOIId && !(commonData.$isIoiActive  | async)"
                                    type="button" title="Submit IOI" id="submit-ioi" class="btn btn-primary-sub btn-sm"
                                    (click)="submitIOI()">Submit IOI
                                </button>
                                <span class="grantCall_create_proposal_link"
                                    *ngIf="commonData.isViewMode && isCreateProposal && result?.grantCall?.grantCallStatus?.grantStatusCode == 2 && result?.grantCall?.isPublished">
                                    <a (click)="setCurrentProposalTab()" tabindex="0"> <button title="Create Proposal"
                                            class="btn btn-primary btn-sm" data-toggle="modal"
                                            data-target="#warningClosingDateModal" tabindex="0"><span
                                                class="d-none d-sm-inline-block">Create&nbsp;</span>Proposal</button></a>
                                </span>
                                <button *ngIf="!editViewIOIToggle.isEditIOI && !editViewIOIToggle.isViewIOI"
                                    title="Back to Grant Call List" class="btn more-btn" (click)="openGoBackModal();">
                                    <i class="fa fa-reply" aria-hidden="true"></i>
                                </button>
                                <span #moreOptionsBtn class="position-relative">
                                    <button *ngIf="result?.grantCall?.grantCallId && ((result.grantCall.grantStatusCode === 2 && isModifyGrantCall && result?.grantCall?.isPublished)|| 
                                                                  (isModifyGrantCall && (result?.grantCall?.grantCallStatus?.grantStatusCode == 2 || result?.grantCall?.grantCallStatus?.grantStatusCode == 3) && commonData.isViewMode) ||
                                                                  (isModifyGrantCall) || (isDeleteGrantCall && result?.grantCall?.grantCallStatus?.grantStatusCode !== 3 && (result?.grantCall?.proposals?.length == 0 || result?.grantCall?.proposals == null)) || (isArchiveGrantCall &&
                                                                  result?.grantCall?.grantCallStatus?.grantStatusCode == 3 && commonData.isViewMode))"
                                        title="More Actions" class="btn more-btn" (click)="isShowMoreOptions = !isShowMoreOptions">
                                        <i class="fa fa-ellipsis-v" aria-hidden="true"></i>
                                    </button>
                                    <ul id="moreOptions-list" class="more-options-box" *ngIf="isShowMoreOptions">
                                        <li class="hand-cursor"
                                            *ngIf="result?.grantCall?.grantCallId && (isModifyGrantCall || isDepartmentModifyGrantCall)">
                                            <a class="dropdown-item" id="prop-routelog-btn" title="Send Notification"
                                                (click)="isShowMoreOptions = !isShowMoreOptions;isShowNotificationModal=true;"
                                                tabindex="0">
                                                <i class="fa fa-bell-o" aria-hidden="true"></i>Send Notification</a>
                                        </li>
                                        <li
                                            *ngIf="result?.grantCall?.grantCallId && (isModifyGrantCall || isDepartmentModifyGrantCall) && commonData.isViewMode">
                                            <a id="modify-grant-btn" class="dropdown-item" href=""
                                                title="Modify Grant Call"
                                                (click)="modifyGrant();isShowMoreOptions = !isShowMoreOptions;"
                                                tabindex="0">
                                                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>Modify Grant
                                                Call</a>
                                        </li>
                                        <li *ngIf="result?.grantCall?.grantCallId && isCreateGrantCall">
                                            <a class="dropdown-item" href="" data-target="#warningOrAlertModal" title="Copy Grant Call" data-toggle="modal"
                                                (click)="modalHideAndShowObject.isShowCopyWarningModal = true;
                                                              modalHideAndShowObject.isShowPublishGrantCallWarning = false;" tabindex="0">
                                                <i class="fa fa-copy" aria-hidden="true"></i>Copy Grant Call</a>
                                        </li>
                                        <li class="hand-cursor" *ngIf="isDeleteGrantCall">
                                            <a id="detele-grant-btn" class="dropdown-item" title="Delete Grant Call"
                                                (click)="checkDeleteGrantCallOrNot(result?.grantCall?.grantCallId)"
                                                tabindex="0">
                                                <i class="fa fa-trash-o" aria-hidden="true"></i>Delete Grant Call</a>
                                        </li>
                                        <li
                                            *ngIf="result?.grantCall?.grantCallId  && isArchiveGrantCall && result?.grantCall?.isPublished  && result?.grantCall?.grantCallStatus?.grantStatusCode == 3">
                                            <a id="archieve-grant-btn" class="dropdown-item" href=""
                                                title="Archive Grant Call"
                                                (click)="modalHideAndShowObject.isArchiveGrantCall = true;"
                                                data-target="#warningOrAlertModal" data-toggle="modal" tabindex="0">
                                                <i class="fa fa-file-archive-o" aria-hidden="true"></i>Archive Grant
                                                Call</a>
                                        </li>
                                        <li *ngIf="result?.grantCall?.grantCallId && isShowMainPannel && result?.grantCall?.isPublished"
                                            class="hand-cursor">
                                            <a class="dropdown-item" title="Export data to excel based on criteria"
                                                id="export-person-excel-btn"
                                                (click)="exportGrantCallEvaluationReport('BY_CRITERIA')" tabindex="0">
                                                <i aria-hidden="true" class="fa fa-file-excel-o f-16"></i>Evaluation
                                                Report by
                                                Criteria
                                            </a>
                                        </li>
                                        <li *ngIf="result?.grantCall?.grantCallId && isShowMainPannel && result?.grantCall?.isPublished"
                                            class="hand-cursor">
                                            <a title="Export data to excel based on reviewer" class="dropdown-item"
                                                id="export-prop-pdf-btn"
                                                (click)="exportGrantCallEvaluationReport('BY_PERSON')" tabindex="0">
                                                <i aria-hidden="true" class="fa fa-file-excel-o f-16"></i>Evaluation
                                                Report by Reviewer
                                            </a>
                                        </li>
                                    </ul>
                                </span>
                            </span>
                        </div>
                    </div>
                    <div *ngIf="commonData.$isMandatoryFilled | async" class="col-12 text-center">
                        <div class="alert alert-danger pulse" role="alert">{{commonData.errorMessage}}</div>
                    </div>
                </div>
                <router-outlet> </router-outlet>
            </div>
        </section>
        <div class="footerPush"></div>
    </div>
</div>

<!-- WARNING AND ALERT MODAL -->
<div class="modal fade mySkinDialog modal-opacity" tabindex="-1" id="warningOrAlertModal" role="dialog"
    aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" *ngIf="modalHideAndShowObject.isShowPublishGrantCallWarning == true">
                    Publish Grant Call
                </h5>
                <h5 class="modal-title" *ngIf="modalHideAndShowObject.isShowPublishWarningModal == true">
                    Publish Grant Call
                </h5>
                <h5 class="modal-title" *ngIf="modalHideAndShowObject.isArchiveGrantCall == true">
                    Archive Grant Call
                </h5>
                <h5 class="modal-title" *ngIf="modalHideAndShowObject.isShowUnarchive == true">
                    Unarchive Grant Call
                </h5>
                <h5 class="modal-title" *ngIf="modalHideAndShowObject.isShowCopyWarningModal == true">
                    Copy Grant Call
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                    (click)="modalHideAndShowObject = {};">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" *ngIf="modalHideAndShowObject.notifyPi == true">
                <p>Please notify the changes made in Grant Call to Principal Investigator</p>
            </div>
            <div class="modal-body" *ngIf="modalHideAndShowObject.isShowPublishWarningModal">
                <p *ngIf="!result?.grantCall?.isPublished">Are you sure you want to publish this Grant Call?
                </p>
                <p *ngIf="result?.grantCall?.isPublished">Are you sure you want to re-publish this Grant Call?
                </p>
            </div>
            <div class="modal-body" *ngIf="modalHideAndShowObject.isArchiveGrantCall == true">
                <p>Are you sure you want to archive this Grant Call?</p>
            </div>
            <div class="modal-body" *ngIf="modalHideAndShowObject.isShowUnarchive == true">
                <p>Are you sure you want to unarchive this Grant Call?</p>
            </div>
            <div class="modal-body" *ngIf="modalHideAndShowObject.isShowCopyWarningModal == true">
                <p>Are you sure you want to copy this Grant Call?</p>
            </div>
            <div class="modal-body" *ngIf="modalHideAndShowObject.isShowPublishGrantCallWarning">
                <p>Grant Call cannot be published in <strong>Draft</strong> status.</p>
            </div>
            <div class="modal-footer"
                *ngIf=" modalHideAndShowObject.isShowPublishWarningModal == true || modalHideAndShowObject.isShowCopyWarningModal == true || modalHideAndShowObject.isShowPublishGrantCallWarning == true || modalHideAndShowObject.isArchiveGrantCall == true || modalHideAndShowObject.isShowUnarchive == true">
                <button type="button" class="btn btn-secondary btn-sm"
                    *ngIf="modalHideAndShowObject.isShowPublishWarningModal == true || modalHideAndShowObject.isShowCopyWarningModal == true || modalHideAndShowObject.isArchiveGrantCall == true || modalHideAndShowObject.isShowUnarchive == true"
                    data-dismiss="modal">No</button>
                <button type="button" class="btn btn-primary-sub btn-sm"
                    *ngIf="modalHideAndShowObject.isShowPublishWarningModal == true"
                    (click)="publishGrantCall();modalHideAndShowObject.isShowPublishWarningModal = false"
                    data-dismiss="modal">Publish</button>
                <button type="button" class="btn btn-primary-sub btn-sm"
                    *ngIf="modalHideAndShowObject.isArchiveGrantCall == true"
                    (click)="archiveGrantCall('archive');modalHideAndShowObject = {}">Archive</button>
                <button type="button" class="btn btn-primary-sub btn-sm"
                    *ngIf="modalHideAndShowObject.isShowUnarchive == true"
                    (click)="archiveGrantCall('unarchive');modalHideAndShowObject.isShowUnarchive = false"
                    data-dismiss="modal">Unarchive</button>
                <button type="button" class="btn btn-primary-sub btn-sm"
                    *ngIf="modalHideAndShowObject.isShowCopyWarningModal == true"
                    (click)="copyGrantCall();modalHideAndShowObject ={};">Copy</button>
                <button type="button" class="btn btn-primary-sub btn-sm"
                    *ngIf="modalHideAndShowObject.isShowPublishGrantCallWarning == true"
                    data-dismiss="modal">Ok</button>
            </div>
        </div>
    </div>
</div>

<!--grant call closing date warning modal while clicking create proposal button-->
<div class="modal fade show mySkinDialog modal-opacity"
    *ngIf="modalHideAndShowObject.isShowCreateProposalWarning == true" tabindex="-1" id="warningClosingDateModal"
    role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Create Proposal</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                    (click)="modalHideAndShowObject.isShowCreateProposalWarning = false;">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Unable to create proposal since grant call closing date has been passed.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary-sub btn-sm"
                    (click)="modalHideAndShowObject.isShowCreateProposalWarning = false;"
                    data-dismiss="modal">Ok</button>
            </div>
        </div>
    </div>
</div>

<!-- Validation modals -->
<div class="modal fade mySkinDialog" tabindex="-1" id="ValidateGrantCallModal" tabindex="-1" role="dialog"
    data-backdrop="static" data-keyboard="false" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Validation</h5>
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-12 ">
                        <div *ngIf="validationMsg?.length > 0">
                            <ng-container *ngFor="let msg of errorList">
                                <div class="alert alert-danger" role="alert">
                                    <i class="fa fa-exclamation-circle icon text-danger" aria-hidden="true"></i> Error:
                                    {{msg.validationMessage}}
                                </div>
                            </ng-container>
                            <ng-container *ngFor="let msg of warningList">
                                <div class="alert alert-warning" role="alert">
                                    <i class="fa fa-exclamation-triangle icon text-warning"
                                        aria-hidden="true"></i>Warning:
                                    {{msg.validationMessage}}
                                </div>
                            </ng-container>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <ng-container
                    *ngIf="(warningList.length > 0 && errorList.length > 0) || (warningList.length == 0 && errorList.length > 0)">
                    <button class="btn btn-secondary btn-sm" data-dismiss="modal">Close</button>
                </ng-container>
                <ng-container *ngIf="(warningList.length > 0 && errorList.length == 0)">
                    <button class="btn btn-secondary btn-sm" data-dismiss="modal">Cancel</button>
                    <button class="btn btn-primary-sub btn-sm" data-dismiss="modal">Continue to Submit</button>
                </ng-container>
            </div>
        </div>
    </div>
</div>

<!--Notify Modal-->
<app-notify *ngIf="isShowNotificationModal" [moduleItemKey]="grantId" [moduleCode]="15" [moduleName]="'Grant Call'"
    (isShowNotificationModal)="showGrantCallNotificationModal($event)"></app-notify>

<!-- confirmation Modal - whether to award ,shortlist or reject proposal -->
<div class="modal fade show mySkinDialog" tabindex="-1" id="main-panel-confirmation-model" role="dialog"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 *ngIf="proposalStatusCode == 'U'" class="modal-title">Reject</h5>
                <h5 *ngIf="proposalStatusCode == 'A'" class="modal-title">Award</h5>
                <h5 *ngIf="proposalStatusCode == 'S'" class="modal-title">Shortlist</h5>
                <button id="main-panel-delete-btn" type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div *ngIf="proposalStatusCode == 'U'" class="modal-body">
                <p>Are you sure you want to Reject this Proposal?</p>
            </div>
            <div *ngIf="proposalStatusCode == 'A'" class="modal-body">
                <p>Are you sure you want to Award this Proposal?</p>
            </div>
            <div *ngIf="proposalStatusCode == 'S'" class="modal-body">
                <p>Are you sure you want to Shortlist this Proposal?</p>
            </div>
            <div class="modal-footer" *ngIf="proposalStatusCode == 'U'">
                <button id="main-panel-close-btn" type="button" class="btn btn-secondary btn-sm" data-dismiss="modal"
                    data-toggle="modal">No</button>
                <button type="button" class="btn btn-primary-sub btn-sm" title="Reject Proposal"
                    (click)="checkListSelection(this.proposalStatusCode)" data-dismiss="modal">Reject</button>
            </div>
            <div class="modal-footer" *ngIf="proposalStatusCode == 'A'">
                <button id="main-panel-close-btn" type="button" class="btn btn-secondary btn-sm" data-dismiss="modal"
                    data-toggle="modal">No</button>
                <button type="button" class="btn btn-primary-sub btn-sm" title="Award Proposal"
                    (click)="checkListSelection(this.proposalStatusCode)" data-dismiss="modal">Award</button>
            </div>
            <div class="modal-footer" *ngIf="proposalStatusCode == 'S'">
                <button id="main-panel-close-btn" type="button" class="btn btn-secondary btn-sm" data-dismiss="modal"
                    data-toggle="modal">No</button>
                <button type="button" class="btn btn-primary-sub btn-sm" title="Shortlist Proposal"
                    (click)="checkListSelection(this.proposalStatusCode)" data-dismiss="modal">Shortlist</button>
            </div>
        </div>
    </div>
</div>

<!-- Confirmation modal for saving all proposals -->
<div class="modal fade show mySkinDialog" tabindex="-1" id="Save-all-proposals" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Save Proposals</h5>
                <button id="main-panel-delete-btn" type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>This action will save all proposals. Are you sure want to continue?</p>
            </div>
            <div class="modal-footer">
                <button id="main-panel-close-btn" type="button" class="btn btn-secondary btn-sm" data-dismiss="modal"
                    data-toggle="modal">No</button>
                <button type="button" class="btn btn-primary-sub btn-sm" title="Reject Proposal" data-dismiss="modal"
                    (click)="saveAllProposals()">Yes</button>
            </div>
        </div>
    </div>
</div>
<button id="grantTabChangebutton" [hidden]="true" data-toggle="modal"
    data-target="#grantCallTabChangeConfirmModal"></button>

<!-- In MIDDLE OF EDIT WARNING MODAL -->
<div class="modal fade mySkinDialog" tabindex="-1" id="grantCallTabChangeConfirmModal" tabindex="-1" role="dialog"
    data-backdrop="static" data-keyboard="false" aria-labelledby="GrantTabChange" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Confirmation</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>You have unsaved changes in <strong>{{autoSaveService.getUnsavedChanges()}}</strong>.
                    Do you want to leave the page without saving?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">Stay on Page</button>
                <button type="button" class="btn btn-primary-sub btn-sm" (click)="navigateUsingRedirectRoute()"
                    data-dismiss="modal">Leave Page</button>
            </div>
        </div>
    </div>
</div>
<button id="publish-without-save-btn" [hidden]="true" data-toggle="modal"
    data-target="#publishWithoutSaveModal"></button>

<!-- Publish without save confirmation -->
<div class="modal fade mySkinDialog" tabindex="-1" id="publishWithoutSaveModal" tabindex="-1" role="dialog"
    data-backdrop="static" data-keyboard="false" aria-labelledby="PublishConfirm" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Are you sure you want to publish?</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>You have unsaved changes. Do you want to publish without saving?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary-sub btn-sm"
                    (click)="commonData.isGrantCallDataChange=false;publishGrantCall() " data-dismiss="modal">Continue
                    to
                    Publish</button>
            </div>
        </div>
    </div>
</div>
<button id="grant-delete-warning-btn" [hidden]="true" data-toggle="modal"
    data-target="#grant-delete-warning-modal"></button>

<!--Warning Modal for Delete Grant Call-->
<div class="modal fade show mySkinDialog" tabindex="-1" id="grant-delete-warning-modal" role="dialog"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Warning</h5>
                <button type="button" id="grant-delete-close-icon" class="close" data-dismiss="modal"
                    aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Grant Calls in Draft / Tentative / Closed status and not linked to any proposal (s) or award (s) can
                    only be
                    deleted.</p>
            </div>
            <div class="modal-footer">
                <button type="button" id="grant-delete-close-btn" class="btnSkin btnSkinPrimary" data-dismiss="modal"
                    data-toggle="modal">Ok</button>
            </div>
        </div>
    </div>
</div>
<button id="grant-delete-btn" [hidden]="true" data-toggle="modal" data-target="#grant-delete-modal"></button>

<!--Delete Grant Call Modal-->
<div class="modal fade show mySkinDialog" tabindex="-1" id="grant-delete-modal" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Delete Grant Call</h5>
                <button type="button" id="grant-delete-confirm-close-icon" class="close" data-dismiss="modal"
                    aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this Grant Call?</p>
            </div>
            <div class="modal-footer">
                <button type="button" id="grant-delete-confirm-no-btn" class="btnSkin btn-secondary"
                    data-dismiss="modal" data-toggle="modal">No</button>
                <button type="button" id="grant-delete-confirm-btn" class="btn btn-primary-sub btn-sm"
                    (click)="deleteGrantCall();" data-dismiss="modal" data-toggle="modal">Delete</button>
            </div>
        </div>
    </div>
</div>
