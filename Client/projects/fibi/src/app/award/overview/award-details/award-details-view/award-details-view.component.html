<div id="Award101" class="card mb-3" [ngClass]="{'item-highlighted': isHighlighted}">
    <div class="card-header">
        <h4 class="card-title">
            <ng-container i18n="@@AWARD_GENERAL_AWARD_INFORMATION">General Award Information</ng-container>
            <span *ngIf="result?.award?.awardId" class="d-inline-block float-right icon-hover">
                <a class="tooltip "><i class="fa fa-info-circle fa-med hand-cursor" aria-hidden="true"></i>
                    <div class="tooltiptext-right card card-inner p-15 text-left">
                        <span class="font-cv">Created By</span>
                        <span class="font-cv font-weight-bold">{{result?.award?.createUserFullName}}
                            on {{result?.award?.createTimestamp | dateFormatterWithTimeZone : 'long'}} </span>
                        <span class="font-cv">Last Updated By</span><span
                            class="font-cv font-weight-bold">{{result?.award?.updateUserFullName}}
                            on {{result?.award?.updateTimeStamp | dateFormatterWithTimeZone : 'long'}}</span>
                        <ng-container *ngIf="result?.award?.funderApprovalDate">
                            <span class="font-cv">Funder Approval Date</span>
                            <span class="font-cv font-weight-bold">{{result?.award?.funderApprovalDate | dateFormatter}}</span>
                        </ng-container>
                    </div>
                </a>
            </span>
        </h4>
    </div>
    <div class="card-content">
        <div class="card-body">
            <div class="gridSkin">
                <div class="row">
                    <div class="col-lg-3 col-sm-6 col-12">
                        <!-- Account Number -->
                        <label class="d-sm-block"><ng-container i18n="@@AWARD_ACCOUNT_NUMBER">Account Number</ng-container></label>
                        <span>{{result?.award?.accountNumber}}</span>
                        <span *ngIf="result?.award?.accountNumber == null" class="noDataExists">
                            <ng-container i18n="@@AWARD_NO_ACCOUNT_NUMBER_SPECIFIED_ERR">No Account Number Specified</ng-container>
                            </span>
                    </div>
                    <!-- Account Type -->
                    <div class="col-lg-3 col-sm-6 col-12">
                        <label class="d-sm-block">Account Type</label>
                        <span>{{result?.award?.accountType?.description}}</span>
                        <span *ngIf="result?.award?.accountTypeCode == null" class="noDataExists">No Account Type
                            Specified</span>
                    </div>
                    <!-- Activity Type -->
                    <div class="col-lg-3 col-sm-6 col-12">
                        <label class="d-sm-block"><ng-container i18n="@@AWARD_ACTIVITY_TYPE">Activity Type</ng-container></label>
                        <span>{{result?.award?.activityType?.description}}</span>
                        <span *ngIf="result?.award?.activityTypeCode == null" class="noDataExists">
                            <ng-container i18n="@@AWARD_NO_ACTIVITY_TYPE_SPECIFIED_ERR">No Activity Type Specified</ng-container></span>
                    </div>
                    <!-- Award Status -->
                    <div class="col-lg-3 col-sm-6 col-12">
                        <label class="d-sm-block"><ng-container i18n="@@AWARD_AWARD_STATUS">Award Status</ng-container></label>
                        <span>{{result?.award?.awardStatus?.description}}</span>
                        <span *ngIf="result?.awardStatus?.description" class="noDataExists">
                            <ng-container i18n="@@AWARD_NO_AWARD_STATUS_SPECIFIED_ERR">No Award Status Specified</ng-container></span>
                    </div>
                    <!-- Title -->
                    <div class="col-lg-12 col-md-12 col-12">
                        <label class="d-sm-block">Title</label>
                        <span>{{result?.award?.title}}</span>
                        <span *ngIf="result?.award?.title == null" class="noDataExists">No Title
                            Specified</span>
                    </div>
                    <!-- Lead Unit -->
                    <div class="col-lg-6 col-md-5 col-sm-6 col-12">
                        <label class="d-sm-block">Lead Unit</label>
                        <span>{{concatUnitNumberAndUnitName(result?.award?.leadUnit?.unitNumber, result?.award?.leadUnit?.unitName)}}</span>
                        <span *ngIf="result?.award?.leadUnit?.unitName == null" class="noDataExists">No Lead Unit
                            Specified</span>
                    </div>
                    <!-- Principal Investigator -->
                    <div class="col-lg-6 col-md-5 col-sm-6 col-12">
                        <label class="d-sm-block">Principal Investigator</label>
                        <span>{{result?.award?.principalInvestigator}}</span>
                        <span *ngIf="result?.award?.principalInvestigator == null" class="noDataExists">No Principal
                            Investigator
                            Specified</span>
                    </div>
                    <!-- Award Effective Date -->
                    <div class="col-lg-3 col-md-4 col-sm-6">
                        <label class="d-sm-block"><ng-container i18n="@@COMMON_AWARD_EFFECTIVE_DATE">Award Effective Date</ng-container></label>
                        <span>{{result?.award?.beginDate | dateFormatter}}</span>
                    </div>
                    <!-- Final Expiration Date -->
                    <div class="col-lg-3 col-md-4 col-sm-6">
                        <label class="d-sm-block"><ng-container i18n="@@COMMON_FINAL_EXPIRATION_DATE">Final Expiration Date</ng-container></label>
                        <span>{{result?.award?.finalExpirationDate | dateFormatter}}</span>
                        <span *ngIf="result?.award?.finalExpirationDate == null" class="noDataExists">
                            <ng-container i18n="@@AWARD_NO_FINAL_EXPIRATION_DATE_SPECIFIED_ERR">No Final Expiration Date Specified</ng-container></span>
                    </div>
                    <!-- Award Notice Date -->
                    <div class="col-lg-3 col-md-4 col-sm-6">
                        <label class="d-sm-block"><ng-container i18n="@@AWARD_AWARD_NOTICE_DATE">Award Notice Date</ng-container></label>
                        <span>{{result?.award?.awardEffectiveDate | dateFormatter}}</span>
                        <span *ngIf="result?.award?.awardEffectiveDate == null" class="noDataExists">
                            <ng-container i18n="@@AWARD_NO_AWARD_NOTICE_DATE_SPECIFIED_ERR">No Award Notice Date Specified</ng-container></span>
                    </div>
                    <!-- Award Duration -->
                    <div class="col-lg-3 col-md-4 col-sm-6">
                        <label class="d-sm-block"><ng-container i18n="@@AWARD_AWARD_DURATION">Award Duration</ng-container></label>
                        <span>
                            <strong>{{result?.award?.duration}}</strong>
                        </span>
                    </div>
                    <!-- Award Type -->
                    <div class="col-lg-3 col-sm-3 col-12">
                        <label class="d-sm-block"><ng-container i18n="@@AWARD_AWARD_TYPE">Award Type</ng-container></label>
                        <span>{{result?.award?.awardType?.description}}</span>
                        <span *ngIf="result?.award?.awardTypeCode == null" class="noDataExists">
                            <ng-container i18n="@@AWARD_NO_AWARD_TYPE_SPECIFIED_ERR">No Award Type Specified</ng-container></span>
                    </div>
                    <!-- Sponsor -->
                    <div class="col-lg-3 col-sm-3 col-12">
                        <label class="d-sm-block"><ng-container i18n="@@COMMON_SPONSOR">Sponsor</ng-container></label>
                        <span>{{result?.award?.sponsorName}}</span>
                        <span *ngIf="result?.award?.sponsorName == null" class="noDataExists">
                            <ng-container i18n="@@COMMON_NO_SPONSOR_SPECIFIED_ERR">No Sponsor Specified</ng-container></span>
                    </div>
                    <!-- Prime Sponsor -->
                    <div class="col-lg-3 col-sm-3 col-12">
                        <label class="d-sm-block">Prime Sponsor</label>
                        <span>{{result?.award?.primeSponsorName}}</span>
                        <span *ngIf="result?.award?.primeSponsorName == null" class="noDataExists">No Prime
                            Sponsor
                            Specified</span>
                    </div>
                    <!-- Sponsor Award Number -->
                    <div class="col-lg-3 col-sm-3 col-12">
                        <label class="d-sm-block" title="The identification number assigned to the award by the Sponsor. Often obtained from the NOA.">
                            <ng-container i18n="@@COMMON_SPONSOR_AWARD_NUMBER">Sponsor Award Number</ng-container></label>
                        <span>{{result?.award?.sponsorAwardNumber}}</span>
                        <span *ngIf="result?.award?.sponsorAwardNumber == null" class="noDataExists">
                            <ng-container i18n="@@AWARD_NO_SPONSOR_AWARD_NUMBER_SPECIFIED_ERR">No Sponsor Award Number Specified</ng-container></span>
                    </div>
                    <!-- CFDA  Number -->
                    <div class="col-lg-3 col-sm-3 col-12">
                        <label class="d-sm-block"  title="CFDA (Catalogue of Federal Domestic Assistance Number) is a five-digit number assigned in the awarding document to most grants and cooperative agreements funded by the Federal government.">CFDA Number</label>
                        <span>{{result?.award?.cfdaNumber}}</span>
                        <span *ngIf="result?.award?.cfdaNumber == null" class="noDataExists">No CFDA Number
                            Specified</span>
                    </div>
                    <!-- DFAFS Number -->
                    <div class="col-lg-3 col-sm-3 col-12">
                        <label class="d-sm-block" title="Can be used to enter the DFAFS Number (Department Federal Assistance Financing System). This is applicable to the NIH and Department of Education Awards.">DFAFS Number </label>
                        <span>{{result?.award?.dfafsNumber}}</span>
                        <span *ngIf="result?.award?.dfafsNumber == null" class="noDataExists">No DFAFS Number
                            Specified</span>
                    </div>
                    <!-- <div class="col">
                        <label>Unique Entity Number (UEN)</label>
                        <span>{{result?.award?.uniqueEntityNumber}}</span>
                        <span *ngIf="result?.award?.uniqueEntityNumber == null" class="noDataExists">No Unique Entity Number
                        Specified</span>
                    </div> -->
                    <!-- Keywords -->
                    <div class="col-lg-12 col-12">
                        <label class="d-sm-block">Keywords</label>
                        <div class="fileChips" style="word-break: break-all;" *ngIf="keywords?.length > 0">
                            <ng-container *ngFor="let keyword of keywords;let i = index;">
                                <span
                                    *ngIf="keyword?.keyword == null; else nonDatabaseKeywords">{{keyword?.scienceKeyword?.description}}
                                </span>
                                <ng-template #nonDatabaseKeywords>
                                    <span>{{keyword?.keyword}}
                                    </span>
                                </ng-template>
                            </ng-container>
                        </div>
                        <span *ngIf="keywords?.length == 0" class="noDataExists">No Keywords
                            Specified</span>
                    </div>
                </div>
                <div class="row">
                    <div *ngIf="result?.award?.grantHeaderId" class="form-group col-6">
                        <label class="d-block">Grant Call</label>
                        <span>{{result?.award?.grantHeaderId}} - {{result?.award?.grantCallName}}</span>
                    </div>
                    <div class="col-2 mt-5 no-hover-effect" *ngIf="result?.award?.grantHeaderId">
                        <span class="actionButtonGroup d-inline-block float-left">
                            <a id="grant-view-btn" title="Click here to view {{result?.award?.grantCallName}}"
                                (click)="showGrantDetails = true" class="anchor-link " tabindex="0">
                                View Grant Call Details
                            </a>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- grant details view modal -->
<app-grant-details-view *ngIf="showGrantDetails" (showGrantDetails)="setGrantDetailsValue($event)" [grantCallId]="result?.award?.grantHeaderId"></app-grant-details-view>
