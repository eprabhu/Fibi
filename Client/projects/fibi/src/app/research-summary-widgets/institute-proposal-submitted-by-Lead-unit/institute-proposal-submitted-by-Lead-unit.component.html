
<div class="card card-widget-box" [@fadeDown]>
  <div class="card-header">
    <h4 class="card-title d-flex justify-content-between">{{widgetDescription?.widgetName}}
      <span *ngIf="widgetDescription?.description" class="d-inline-block icon-hover">
        <a class="tooltip z-index-0 tooltip-helptext"><i class="fa fa-question-circle fa-med" aria-hidden="true"></i>
          <div class="tooltiptext-right card card-inner p-15 text-left">
            <span class="font-cv new-line-property">{{widgetDescription?.description}}</span>
          </div>
        </a>
      </span>
    </h4>
  </div>
  <div class="card-content" [ngClass]="{'h-100 d-flex align-items-center': !ipSubmittedByLeadUnits?.length}">
    <div class="card-body">
      <div *ngIf="isShowLoader" appCustomPreloader></div>
      <div class="py-0 pl-2 px-2 fixed-header-table" *ngIf="ipSubmittedByLeadUnits?.length">
        <table class="table tableSkin table-bordered grid2 mb-0">
          <caption class="sr-only">Institute Proposals By Lead Unit</caption>
          <thead class="hand-icon">
            <th class="text-nowrap" scope="col" (click)="isDesc =!isDesc;sortBy(0)">Department
              <span>
                <i [ngClass]="((column == 0) ? (isDesc ? 'fa fa-sort-alpha-asc sortIcon' : 'fa fa-sort-alpha-desc sortIcon') : 'fa fa-sort-alpha-asc blrcolor')"
                aria-hidden="true"></i>    
              </span>
            </th>
            <th  class="text-nowrap" scope="col" style="width: 17%;" (click)="isDesc =!isDesc;sortBy(1)">Pending
              <span class="content-color">
                ({{totalPendingCount}})
              </span>
              <span>
                <i [ngClass]="((column == 1) ? (isDesc ? 'fa fa-sort-numeric-asc sortIcon' : 'fa fa-sort-numeric-desc sortIcon') : 'fa fa-sort-numeric-asc blrcolor')"
                  aria-hidden="true"></i>    
              </span>
            </th>
            <th  class="text-nowrap" scope="col" style="width: 21%;" (click)="isDesc =!isDesc;sortBy(2)">Not Funded
              <span class="content-color">
                ({{totalNotFundedCount}})
              </span>
              <span>
                <i [ngClass]="((column == 2) ? (isDesc ? 'fa fa-sort-numeric-asc sortIcon' : 'fa fa-sort-numeric-desc sortIcon') : 'fa fa-sort-numeric-asc blrcolor')"
                aria-hidden="true"></i>    
              </span>
            </th>
            <th  class="text-nowrap" scope="col" style="width: 17%;" (click)="isDesc =!isDesc;sortBy(3)">Funded
              <span class="content-color">
                ({{totalFundedCount}})
              </span>
              <span>
                <i [ngClass]="((column == 3) ? (isDesc ? 'fa fa-sort-numeric-asc sortIcon' : 'fa fa-sort-numeric-desc sortIcon') : 'fa fa-sort-numeric-asc blrcolor')"
                  aria-hidden="true"></i>    
              </span>
            </th>
            <th  class="text-nowrap" scope="col" style="width: 20%;" (click)="isDesc =!isDesc;sortBy(4)">Withdrawn
              <span class="content-color">
                ({{totalWithdrawnCount}})
              </span>
              <span>
                <i [ngClass]="((column == 4) ? (isDesc ? 'fa fa-sort-numeric-asc sortIcon' : 'fa fa-sort-numeric-desc sortIcon') : 'fa fa-sort-numeric-asc blrcolor')"
                  aria-hidden="true"></i>    
              </span>
            </th>
          </thead>
          <tbody>
            <tr *ngFor="let widgetData of ipSubmittedByLeadUnits | orderByIndex:{property: column, direction: direction}">
              <td>{{widgetData[0]}}</td>
              <td class="clickable text-right" (click)="getDetailsIpSubmittedLeadUnit(widgetData,'PENDING_INSTITUTE_PROPOSAL',widgetData[1])">{{widgetData[1] != null ?widgetData[1]:'0' }}</td>
              <td class="clickable text-right" (click)="getDetailsIpSubmittedLeadUnit(widgetData,'NOT_FUNDED_INSTITUTE_PROPOSAL',widgetData[2])">{{widgetData[2] != null? widgetData[2]:'0'}}</td>
              <td class="clickable text-right" (click)="getDetailsIpSubmittedLeadUnit(widgetData,'FUNDED_INSTITUTE_PROPOSAL',widgetData[3])">{{widgetData[3] != null? widgetData[3]:'0'}}</td>
              <td class="clickable text-right" (click)="getDetailsIpSubmittedLeadUnit(widgetData,'WITHDRAWN_INSTITUTE_PROPOSAL',widgetData[4])">{{widgetData[4] != null? widgetData[4]:'0'}}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div *ngIf="ipSubmittedByLeadUnits?.length === 0" class="no-data-container">
        <span class="no-data-icon-outer">
          <div class="no-data-icon">
            <i class="fa fa-file-o" aria-hidden="true"></i>
            <i class="fa fa-times-circle-o" aria-hidden="true"></i>
          </div>
        </span>
        <h4>There is no information in this section.</h4>
      </div>
    </div>
  </div>
</div>
