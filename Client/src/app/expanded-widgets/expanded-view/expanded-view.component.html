<div id="scrollToTop">
    <!-- Expanded view for awarded proposals from donutchart (1)-->
    <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 padding-tbx">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title d-flex align-items-center"><span>{{exportDataHeading}}</span>
                        <div class="ml-auto">
                            <span *ngIf="agreementList?.length > 0">
                                <span class="mr-2">Export as:</span>
                                <a title="Export data to Excel sheet" (click)="exportAsTypeDoc('excel')"><i
                                        aria-hidden="true" class="fa fa-file-excel-o hand-cursor mr-2"></i></a>
                                <a class="mr-2">|</a>
                                <a title="Export data to PDF Document" (click)="exportAsTypeDoc('pdf')"><i
                                        aria-hidden="true" class="fa fa-file-pdf-o hand-cursor"></i></a>
                            </span>
                            <span>
                                <button class="btn more-btn" (click)="myDashboard($event)" title="Back to My Dashboard"
                                    type="button">
                                    <i class="fa fa-reply" aria-hidden="true"></i></button>
                            </span>
                        </div>
                    </h5>
                </div>
                <div class="card-content">
                    <div class="card-body">
                        <div class="table-responsive" *ngIf="(agreementList  != null && agreementList ?.length != 0)">
                            <table class="table tableSkin mb-0">
                                <thead>
                                    <tr class="header-border">
                                        <th scope="col" style="width: 5%;" id="sort-by-id"
                                            (click)="sortResult('agreementRequestId')">
                                            <span class="hand-cursor" title="Click to sort by agreementId">Id</span>
                                            <i aria-hidden="true"
                                                [ngClass]="((researchSummaryReqObj .sortBy == 'agreementRequestId') ? (isReverse ? 'fa fa-sort-numeric-desc sortIcon' : 'fa fa-sort-numeric-asc sortIcon') : 'fa fa-sort-numeric-asc blrcolor')"></i>
                                        </th>
                                        <th scope="col" style="width: 13%;" id="sort-by-agreementType"
                                            (click)="sortResult('agreementTypeCode')">
                                            <span class="hand-cursor" title="Click to sort by Type Of Agreement">Type Of
                                                Agreement</span>
                                            <i aria-hidden="true"
                                                [ngClass]="((researchSummaryReqObj .sortBy == 'agreementTypeCode') ? (isReverse ? 'fa fa-sort-alpha-desc sortIcon' : 'fa fa-sort-alpha-asc sortIcon') : 'fa fa-sort-alpha-asc blrcolor')"></i>
                                        </th>
                                        <th scope="col" style="width: 10%;" id="sort-by-agreementTitle"
                                            (click)="sortResult('title')">
                                            <span class="hand-cursor" title="Click to sort by Title">Title</span>
                                            <i aria-hidden="true"
                                                [ngClass]="((researchSummaryReqObj .sortBy == 'title') ? (isReverse ? 'fa fa-sort-alpha-desc sortIcon' : 'fa fa-sort-alpha-asc sortIcon') : 'fa fa-sort-alpha-asc blrcolor')"></i>
                                        </th>
                                        <th scope="col" style="width: 5%;" id="sort-by-unit"
                                            (click)="sortResult('unitNumber')">
                                            <span class="hand-cursor" title="Click to sort by Title">Unit</span>
                                            <i aria-hidden="true"
                                                [ngClass]="((researchSummaryReqObj .sortBy == 'unitNumber') ? (isReverse ? 'fa fa-sort-alpha-desc sortIcon' : 'fa fa-sort-alpha-asc sortIcon') : 'fa fa-sort-alpha-asc blrcolor')"></i>
                                        </th>
                                        <th scope="col" style="width: 11%;" id="sort-by-agreementOrganisation"
                                            (click)="sortResult('organization')">
                                            <span class="hand-cursor"
                                                title="Click to sort by organisation">Organization</span>
                                            <i aria-hidden="true"
                                                [ngClass]="((researchSummaryReqObj .sortBy == 'organization') ? (isReverse ? 'fa fa-sort-alpha-desc sortIcon' : 'fa fa-sort-alpha-asc sortIcon') : 'fa fa-sort-alpha-asc blrcolor')"></i>
                                        </th>
                                        <th scope="col" style="width: 13%;" id="sort-by-agreementAdministrator"
                                            (click)="sortResult('agreementAdminFullName')">
                                            <span class="hand-cursor"
                                                title="Click to sort by Administrator">Administrator</span>
                                            <i aria-hidden="true"
                                                [ngClass]="((researchSummaryReqObj.sortBy == 'agreementAdminFullName') ? (isReverse ? 'fa fa-sort-alpha-desc sortIcon' : 'fa fa-sort-alpha-asc sortIcon') : 'fa fa-sort-alpha-asc blrcolor')"></i>
                                        </th>
                                        <th scope="col" style="width: 10%;" id="sort-by-agreementRequestor"
                                            (click)="sortResult('requestorName')">
                                            <span class="hand-cursor"
                                                title="Click to sort by requester">Requestor</span>
                                            <i aria-hidden="true"
                                                [ngClass]="((researchSummaryReqObj.sortBy == 'requestorName') ? (isReverse ? 'fa fa-sort-alpha-desc sortIcon' : 'fa fa-sort-alpha-asc sortIcon') : 'fa fa-sort-alpha-asc blrcolor')"></i>
                                        </th>
                                        <th scope="col" style="width: 14%;" id="sort-by-agreementPI"
                                            (click)="sortResult('piFullName')">
                                            <span class="hand-cursor"
                                                title="Click to sort by principal investigator">Principal
                                                Investigator</span>
                                            <i aria-hidden="true"
                                                [ngClass]="((researchSummaryReqObj.sortBy == 'piFullName') ? (isReverse ? 'fa fa-sort-alpha-desc sortIcon' : 'fa fa-sort-alpha-asc sortIcon') : 'fa fa-sort-alpha-asc blrcolor')"></i>
                                        </th>
                                        <th scope="col" style="width: 7%;" id="sort-by-agreementStatus"
                                            (click)="sortResult('agreementStatusCode')">
                                            <span class="hand-cursor" title="Click to sort by Status">Status</span>
                                            <i aria-hidden="true"
                                                [ngClass]="((researchSummaryReqObj.sortBy == 'agreementStatusCode') ? (isReverse ? 'fa fa-sort-alpha-desc sortIcon' : 'fa fa-sort-alpha-asc sortIcon') : 'fa fa-sort-alpha-asc blrcolor')"></i>
                                        </th>
                                        <th scope="col" style="width: 1%;">Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let agreement of agreementList; let i =index" class="pull-up">
                                        <td (click)="viewAgreementById(agreement?.agreementRequestId)">
                                            {{agreement?.agreementRequestId}}
                                        </td>
                                        <td (click)="viewAgreementById(agreement?.agreementRequestId)">
                                            {{agreement?.agreementTypeCode}}</td>
                                        <td (click)="viewAgreementById(agreement?.agreementRequestId)">
                                            {{agreement?.title}}</td>
                                        <td (click)="viewAgreementById(agreement?.agreementRequestId)">
                                            {{agreement?.unitNumber}}</td>
                                        <td (click)="viewAgreementById(agreement?.agreementRequestId)">
                                            {{agreement?.organization}}</td>
                                        <td (click)="viewAgreementById(agreement?.agreementRequestId)">
                                            {{agreement?.adminName}}</td>
                                        <td (click)="viewAgreementById(agreement?.agreementRequestId)">
                                            {{agreement?.requestorName}}</td>
                                        <td (click)="viewAgreementById(agreement?.agreementRequestId)">
                                            {{agreement?.piFullName}}</td>
                                        <td (click)="viewAgreementById(agreement?.agreementRequestId)">
                                            {{agreement?.agreementStatusCode}}</td>
                                        <td>
                                            <ul class="actionButtonGroup d-inline-block">
                                                <li>
                                                    <a title="Open agreement {{agreement?.agreementRequestId}}"
                                                        class="pointer" id="open-proposal-btn"
                                                        (click)="viewAgreementById(agreement?.agreementRequestId)">
                                                        <i aria-hidden="true" class="fa fa-eye pointer"></i>
                                                    </a>
                                                </li>
                                            </ul>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div *ngIf="agreementList?.length == 0" class="borderBox noDataOnChart noDataExists">
                            <div class="no-data-container">
                                <span class="no-data-icon-outer">
                                    <div class="no-data-icon">
                                        <i aria-hidden="true" class="fa fa-file-o"></i>
                                        <i aria-hidden="true" class="fa fa-times-circle-o"></i>
                                    </div>
                                </span>
                                <h4>There is no information in this section.</h4>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"
                    *ngIf="agreementList !== null &&agreementList?.length !== 0">
                    <div>
                        <nav class="pagination justify-content-end">
                            <app-pagination [totalCount]="totalCount" (pageChangeEvent)="actionsOnPageChange($event)">
                            </app-pagination>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footerPush"></div>
</div>