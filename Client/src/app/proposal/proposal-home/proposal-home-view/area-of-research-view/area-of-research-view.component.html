<div class="card mb-3">
  <div class="card-header px-4">
      <h4 class="card-title" id="proposal-research-area-view">
        <ng-container i18n="@@COMMON_AREA_OF_RESEARCH/SOCIETAL_CHALLENGE_AREA">Area of Research/Societal Challenge Area</ng-container>
        <span *ngIf="helpText?.areaOfResearch?.helpTextInfo" class="d-inline-block icon-hover">
            <a class="tooltip z-index-0 tooltip-helptext"><i class="fa fa-question-circle fa-med hand-cursor" aria-hidden="true"></i>
                <div class="tooltiptext-left card card-inner p-15 text-left">
                    <span class="font-cv">{{helpText?.areaOfResearch?.helpTextInfo}}</span>
                </div>
            </a>
          </span>
      </h4>
      <button id="areaofResearchExpandBtn" class="updown-arrow"
          (click)="dataVisibilityObj.isAreaOfResearchWidgetOpen = !dataVisibilityObj.isAreaOfResearchWidgetOpen">
          <i [ngClass]="dataVisibilityObj.isAreaOfResearchWidgetOpen?'fa fa-angle-double-up':'fa fa-angle-double-down'"
              aria-hidden="true" class="fa-large"></i>
      </button>
  </div>
  <div class="card-content" *ngIf="dataVisibilityObj.isAreaOfResearchWidgetOpen">
      <div class="card-body">
          <div *ngIf="result?.proposalResearchAreas?.length == 0" class="noDataExists px-2">There are no area of research
              added in this Proposal.</div>
          <table class="table tableSkin grid2" aria-describedby="proposal-research-area-view"
              *ngIf="dataVisibilityObj.isAreaOfResearchWidgetOpen && result?.proposalResearchAreas?.length > 0">
              <thead>
                  <th scope="col">Type</th>
                  <th scope="col">Area</th>
                  <th scope="col" colspan="3">Sub-Area</th>
              </thead>
              <tbody>
                  <tr *ngFor="let researchArea of result?.proposalResearchAreas;let i = index">
                    <td>{{researchArea?.researchType?.description}}</td>
                    <td>{{researchArea?.researchTypeArea?.description}}</td>
                    <td *ngIf="researchArea?.researchTypeSubArea?.description">{{researchArea?.researchTypeSubArea?.description}}</td>
                    <td *ngIf="!researchArea?.researchTypeSubArea?.description"><span class="noDataExists">No subarea selected</span></td>
                  </tr>
              </tbody>
          </table>
          <!-- New More information -->
          <div class="card-details" *ngIf="dataVisibilityObj.isMoreInfoWdgtOpen">
              <h4 class="card-title">More Information</h4>
              <div class="media-card gridSkin ml-0">
                  <div class="row">
                      <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                          <label class="d-block"><ng-container i18n="@@COMMON_STUDY_SOCIETAL_CHALLENGE_DESCRIPTION_ERR">Elaborate on how the proposed study may contribute to the Societal
                              Challenge and/or Research Area</ng-container></label>
                          <span *ngIf="result?.proposal?.researchDescription != null">
                              <span class="textView" *ngIf="!isResearchDescriptionReadMore">
                                <p class="new-line-property" [innerHTML]="(result?.proposal?.researchDescription).length>240 ?
                                    (result?.proposal?.researchDescription | slice:0:240)+'...' :
                                    result?.proposal?.researchDescription"></p>
                                    <span
                                      *ngIf="(result?.proposal?.researchDescription?.length>240)"
                                      class="hand-cursor fibiDefaultColor italian"
                                      (click)="isResearchDescriptionReadMore = !isResearchDescriptionReadMore">Read
                                      more<i aria-hidden="true"
                                          [ngClass]="isResearchDescriptionReadMore?'fa fa-angle-double-left':'fa fa-angle-double-right'"></i>
                                  </span>
                                </span>
                              <span *ngIf="isResearchDescriptionReadMore" class="textView">
                                <p class="new-line-property" [innerHTML]="result?.proposal?.researchDescription"></p>
                                <span
                                      *ngIf="(result?.proposal?.researchDescription?.length>240)"
                                      class="hand-cursor fibiDefaultColor italian"
                                      (click)="isResearchDescriptionReadMore = !isResearchDescriptionReadMore">Show
                                      less<i aria-hidden="true"
                                          [ngClass]="isResearchDescriptionReadMore?'fa fa-angle-double-left':'fa fa-angle-double-right'"></i>
                                  </span>
                                </span>
                          </span>
                          <div class="noDataExists"
                              *ngIf="result?.proposal?.researchDescription == null || result?.proposal?.researchDescription == ''">
                              <ng-container i18n="@@COMMON_SOCIETAL_CHALLENGE_DESCRIPTION_ERR">No contributions or descriptions provided on how the proposed study may contribute to
                              the societal challenge and/or research area</ng-container></div>
                      </div>
                  </div>
                  <div class="row">
                      <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                          <label class="d-block">Indicate if the proposal is a multi-disciplinary project and
                              elaborate</label>
                          <span *ngIf="result?.proposal?.multiDisciplinaryDescription != null">
                              <span class="textView" *ngIf="!isMultiDisciplinaryDescriptionReadMore">
                                <p class="new-line-property" [innerHTML]="(result?.proposal?.multiDisciplinaryDescription).length>240 ?
                                    (result?.proposal?.multiDisciplinaryDescription | slice:0:240)+'...' :
                                    result?.proposal?.multiDisciplinaryDescription"></p>
                                    <span
                                      *ngIf="(result?.proposal?.multiDisciplinaryDescription?.length>240)"
                                      class="hand-cursor fibiDefaultColor italian"
                                      (click)="isMultiDisciplinaryDescriptionReadMore = !isMultiDisciplinaryDescriptionReadMore">Read
                                      more<i aria-hidden="true"
                                          [ngClass]="isMultiDisciplinaryDescriptionReadMore?'fa fa-angle-double-left':'fa fa-angle-double-right'"></i>
                                  </span>
                                </span>
                              <span *ngIf="isMultiDisciplinaryDescriptionReadMore" class="textView">
                                <p class="new-line-property" [innerHTML]="result?.proposal?.multiDisciplinaryDescription"></p>
                                <span
                                      *ngIf="(result?.proposal?.multiDisciplinaryDescription?.length>240)"
                                      class="hand-cursor fibiDefaultColor italian"
                                      (click)="isMultiDisciplinaryDescriptionReadMore = !isMultiDisciplinaryDescriptionReadMore">Show
                                      less<i aria-hidden="true"
                                          [ngClass]="isMultiDisciplinaryDescriptionReadMore?'fa fa-angle-double-left':'fa fa-angle-double-right'"></i>
                                  </span>
                                </span>
                          </span>
                          <div class="noDataExists"
                              *ngIf="result?.proposal?.multiDisciplinaryDescription == null || result?.proposal?.multiDisciplinaryDescription == ''">
                              No contributions or descriptions provided for indicating the proposal is a
                              multi-disciplinary project.
                          </div>
                      </div>
                  </div>
              </div>
          </div>
          <!-- New More information -->
      </div>
  </div>
</div>